# flowcouner
Code for ionization flow counter device
Из того что есть в схеме на данный момент нам надо запрограммировать:
1. Энкодер с кнопкой
Можно просто использовать библиотеку от Гивера
2. Экран
3. ШИМ, контролирующий напряжение СБМ-21(должно быть 400В)
На выходе D9 нужно опытным путем подобрать частоту и скважность, 
чтобы установилось необходимое напряжение. Возможно, при частоте до 
16кГц, будет слышен шум, решается повышением ШИМ-а до частот выше 
границ человеческой слышимости.
4. Выход с СБМ-21
При отсутствии излучения на СБМ-21 из-за инвертирующего 
подключения транзистора Q2 на вход Ардуино будет приходить 5 вольт. При 
пробое в СБМ-21 скачок напряжения изменит 5 вольт и значение напряжения 
на входе А2 будет меняться, в зависимости от силы излучения. Нужно 
определить при каком значении АЦП (от 0 до 1023) будет считаться импульс. 
Определить фоновое значение можно в свинцовом домике.
5. Драйвер мотора
Тут все проще простого, на пин D2 нужно выдавать значение с Ардуино
(0/1) это определит вращение по часовой или против часовой стрелке. Пин D3 
должен выдавать ШИМ чтобы обозначить скорость требуемого вращения от 
мотора.
6. Вайфай модуль
Важно переводить SW1 в положение ВЫКЛ при загрузке кода из 
компьютера

<img src="https://github.com/StepanKatin/flowcouner/blob/main/flowcounterelsch.jpg"/></h2>
